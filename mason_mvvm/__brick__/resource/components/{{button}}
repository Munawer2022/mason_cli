import 'package:flutter/material.dart';
import 'package:flutter/cupertino.dart';
import '/utils/utils.dart';

class PlatformButton {
  Widget getButton(
          {required String text,
          required void Function()? onPressed,
          double? width,
          double? height,
          bool loading = false}) =>
      ios
          ? _cupertinoButton(text,
              onPressed: onPressed,
              width: width,
              height: height,
              loading: loading)
          : _elevatedButton(text,
              onPressed: onPressed,
              width: width,
              height: height,
              loading: loading);

  Widget _cupertinoButton(String text,
      {required void Function()? onPressed,
      double? width,
      double? height,
      bool loading = false}) {
    return SizedBox(
      height: height ?? 50.0,
      width: width ?? double.infinity,
      child: CupertinoButton(
        color: Colors.blue.shade300,
        onPressed: loading == true ? null : onPressed,
        child: loading
            ? const CupertinoActivityIndicator()
            : Text(
                text,
                style: const TextStyle(
                  color: Colors.white,
                ),
              ),
      ),
    );
  }

  ElevatedButton _elevatedButton(String text,
      {required void Function()? onPressed,
      double? width,
      double? height,
      bool loading = false}) {
    return ElevatedButton(
      style: ElevatedButton.styleFrom(
          backgroundColor: Colors.blue.shade300,
          minimumSize: Size(width ?? double.infinity, height ?? 50.0)),
      onPressed: loading == true ? null : onPressed,
      child: loading
          ? const CircularProgressIndicator(
              color: Colors.white,
            )
          : Text(
              text,
              style: const TextStyle(color: Colors.white),
            ),
    );
  }
}
