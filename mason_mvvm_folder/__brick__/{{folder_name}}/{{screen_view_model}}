import 'package:flutter/material.dart';
import '/data/response/api_response.dart';
import '/model/{{model_file_name}}';
import '/respository/{{repo_file_name}}';

class {{class_name}}ViewModel with ChangeNotifier {
  final _myRepo = {{class_name}}Repository();

  ApiResponse<{{class_name}}Model> {{folder_name}}Model = ApiResponse.loading();

  set{{class_name}}(ApiResponse<{{class_name}}Model> response) {
    {{folder_name}}Model = response;
    notifyListeners();
  }

  Future<void> fetch{{class_name}}Api() async {
    set{{class_name}}(ApiResponse.loading());

    _myRepo.fetch{{class_name}}().then((value) {
      set{{class_name}}(ApiResponse.completed(value));
    }).onError((error, stackTrace) {
      set{{class_name}}(ApiResponse.error(error.toString()));
    });
  }
}
